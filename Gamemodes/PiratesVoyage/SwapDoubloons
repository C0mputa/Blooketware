javascript:(()=>{const i=async()=>{var e=document.createElement("iframe");document.body.append(e),window.prompt=e.contentWindow.prompt.bind(window),e.remove();let t=Object.values(function e(t=document.querySelector("body>div")){return Object.values(t)[1]?.children?.[0]?._owner.stateNode?t:e(t.querySelector(":scope>div"))}())[1].children[0]._owner["stateNode"];e=Object.entries(await new Promise(e=>t.props.liveGameController.getDatabaseVal("c",e))).sort((e,t)=>t[1].d-e[1].d).filter(e=>e[0]!=t.props.client.name),e=e.find(e=>e[0]==prompt("Who would you like to swap with? (Defaults to top player if no one found)"))||e[0];t.props.liveGameController.setVal({path:"c/"+t.props.client.name,val:{b:t.props.client.blook,d:e[1].d,tat:e[0]+":"+(e[1].d-t.state.doubloons)}}),t.setState({doubloons:e[1].d})};let d=new Image;d.src="https://raw.githubusercontent.com/05Konz/Blooket-Cheats/main/autoupdate/timestamps/voyage/swapDoubloons.png?"+Date.now(),d.crossOrigin="Anonymous",d.onload=function(){var e=document.createElement("canvas").getContext("2d");e.drawImage(d,0,0,this.width,this.height);let t=e.getImageData(0,0,this.width,this.height)["data"],o="",n;for(let e=0;e<t.length;e+=4){var a=String.fromCharCode(256*t[e+1]+t[e+2]);if(o+=a,"/"==a&&"*"==n)break;n=a}var e=document.querySelector("iframe"),[,r,s]=o.match(/LastUpdated: (.+?); ErrorMessage: "(.+?)"/);(parseInt(r)<=1695484594368||e.contentWindow.confirm(s))&&i()},d.onerror=d.onabort=()=>(d.src=null,i())})();
